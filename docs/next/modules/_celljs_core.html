<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@celljs/core - v3.4.2 | CellJS TypeDoc</title><meta name="description" content="Documentation for CellJS TypeDoc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">CellJS TypeDoc</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">CellJS TypeDoc</a></li><li><a href="_celljs_core.html">@celljs/core</a></li></ul><h1>Module @celljs/core - v3.4.2</h1></div><section class="tsd-panel tsd-typography"><a id="md:cell---core-component" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Cell - Core Component<a href="#md:cell---core-component" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="md:概览" class="tsd-anchor"></a><h2 class="tsd-anchor-link">概览<a href="#md:概览" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件是一个轻量级的应用框架，用于构建现代化的应用程序。通过依赖注入、AOP 面向切面编程、配置属性、日志等功能，提供了一套简单易用的 API 接口，支持类对象的注册、解析和生命周期管理。Cell 核心组件是基于 <a href="https://github.com/inversify/InversifyJS" target="_blank" class="external">InversifyJS</a> 构建的，支持 TypeScript 语言。</p>
<a id="md:特性" class="tsd-anchor"></a><h2 class="tsd-anchor-link">特性<a href="#md:特性" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>依赖注入</li>
<li>面向切面编程</li>
<li>配置属性</li>
<li>日志</li>
</ul>
<a id="md:安装" class="tsd-anchor"></a><h2 class="tsd-anchor-link">安装<a href="#md:安装" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>使用 npm 安装 Cell 核心组件：</p>
<pre><code class="bash"><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">install</span><span class="hl-2"> </span><span class="hl-3">@celljs/core</span>
</code><button type="button">Copy</button></pre>

<p>或者使用 yarn：</p>
<pre><code class="bash"><span class="hl-1">yarn</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">@celljs/core</span>
</code><button type="button">Copy</button></pre>

<a id="md:快速开始" class="tsd-anchor"></a><h2 class="tsd-anchor-link">快速开始<a href="#md:快速开始" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>以下是一个简单的依赖注入示例，展示如何使用 Cell 核心组件将一个类对象注入到 IoC 容器中：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>然后，在另一个对象中使用 <code>@Autowired</code> 注解来注入 <code>HelloWorld</code> 类对象：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">HelloWorld</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./hello-world&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>接着，在 IoC 容器模块中注册 <code>HelloWorld</code> 和 <code>SampleService</code> 类对象：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">HelloWorld</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./hello-world&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">SampleModule</span><span class="hl-2"> = </span><span class="hl-1">autoBind</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<p>最后，通过 <code>ApplicationFactory</code> 创建应用实例，加载 IoC 容器模块，组装成一个完整的 IoC 容器：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleModule</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-module&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">appProps</span><span class="hl-2"> = {};</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">app</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-7">ApplicationFactory</span><span class="hl-2">.</span><span class="hl-1">create</span><span class="hl-2">(</span><span class="hl-7">appProps</span><span class="hl-2">, </span><span class="hl-7">SampleModule</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">app</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">})();</span><br/>
</code><button type="button">Copy</button></pre>

<a id="md:依赖注入" class="tsd-anchor"></a><h2 class="tsd-anchor-link">依赖注入<a href="#md:依赖注入" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了依赖注入功能，支持将类对象注入到 IoC 容器中，并在其他类对象中使用 <code>@Autowired</code> 注解来注入依赖对象。以下是一个简单的依赖注入示例：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">Autowired</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:属性注入" class="tsd-anchor"></a><h2 class="tsd-anchor-link">属性注入<a href="#md:属性注入" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件支持属性注入功能，通过 <code>@Value</code> 注解可以将配置属性注入到类对象中。以下是一个简单的属性注入示例：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">Value</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">appName</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`App Name: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-7">appName</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>可以被注入的属性是在应用启动时通过 <code>ApplicationFactory</code> 的 <code>create</code> 方法传入的 <code>appProps</code> 对象中定义的。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">appProps</span><span class="hl-2"> = {</span><br/><span class="hl-2">        </span><span class="hl-7">app:</span><span class="hl-2"> { </span><span class="hl-7">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;MyApp&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">    };</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">app</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-7">ApplicationFactory</span><span class="hl-2">.</span><span class="hl-1">create</span><span class="hl-2">(</span><span class="hl-7">appProps</span><span class="hl-2">, </span><span class="hl-7">SampleModule</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">app</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">})();</span>
</code><button type="button">Copy</button></pre>

<p>属性注入时，可以使用 <code>.</code> 来访问嵌套属性，例如 <code>@Value('app.name')</code>。</p>
<p>除此之外，<code>@Value</code> 的字符串才是支持 EL 表达式的，底层是基于 <a href="https://github.com/TomFrost/jexl" target="_blank" class="external">jexl</a> 实现的。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">Value</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 对象访问</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">appName</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 三元表达式</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name == &quot;MyApp&quot; ? &quot;Hello, MyApp!&quot; : &quot;Hello, World!&quot;&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">greeting</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">; </span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-0">// 提供默认值</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.version ?: &quot;1.0.0&quot;&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">appVersion</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 数学运算</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.port + 1&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">port</span><span class="hl-2">: </span><span class="hl-6">number</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 逻辑运算</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.debug &amp;&amp; app.env == &quot;dev&quot;&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">debug</span><span class="hl-2">: </span><span class="hl-6">boolean</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 数组访问</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.tags[0]&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">tag</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 数组过滤</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;employees[.age &gt;= 30 &amp;&amp; .age &lt; 40]&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">middleAgedEmployees</span><span class="hl-2">: </span><span class="hl-6">Employee</span><span class="hl-2">[];</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 变换</span><br/><span class="hl-2">    </span><span class="hl-0">// 假如定义如下两个变换：</span><br/><span class="hl-2">    </span><span class="hl-0">// jexl.addTransform(&#39;split&#39;, (val, char) =&gt; val.split(char))</span><br/><span class="hl-2">    </span><span class="hl-0">// jexl.addTransform(&#39;lower&#39;, (val) =&gt; val.toLowerCase())</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;&quot;Pam Poovey&quot;|lower|split(&#39;</span><span class="hl-2"> </span><span class="hl-3">&#39;)[1]&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">lastName</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// 函数调用</span><br/><span class="hl-2">    </span><span class="hl-0">// 假如定义如下函数：</span><br/><span class="hl-2">    </span><span class="hl-0">// jexl.addFunction(&#39;min&#39;, Math.min)</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;min(3, 5)&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">min</span><span class="hl-2">: </span><span class="hl-6">number</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:ioc-容器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">IoC 容器<a href="#md:ioc-容器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了一个轻量级的 IoC 容器，用于管理类对象的生命周期和依赖关系。通过 <code>@Component</code> 注解可以将类对象注册到 IoC 容器中，通过 <code>@Autowired</code> 注解可以在其他类对象中注入依赖对象。</p>
<p>IoC 容器底层实现是基于 <a href="https://github.com/inversify/InversifyJS" target="_blank" class="external">InversifyJS</a> 的，提供了一套简单易用的 API 接口，支持类对象的注册、解析和生命周期管理。借鉴 Spring Framework 的设计理念，提供了一套类似 Spring 的装饰器，例如 <code>@Component</code>、<code>@Autowired</code>、<code>@Value</code> 等。</p>
<p>IoC 容器是由一些列容器模块组成的，每个容器模块是由一些类对象组成的，通过 <code>@Component</code> 注解注册到容器模块。为了方便注册类对象到容器模块中，Cell 核心组件提供了 <code>autoBind</code> 方法，可以自动注册类对象到容器模块中。<code>autoBind</code> 通过文件模块依赖分析，自动注册类对象到容器模块中，无需手动注册。</p>
<p>以下是一个简单的 IoC 容器示例：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">SampleModule</span><span class="hl-2"> = </span><span class="hl-1">autoBind</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<p><code>autoBind</code> 方法还提供一些列的回调函数，用于自定义注册行为。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">autoBind</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">SampleModule</span><span class="hl-2"> = </span><span class="hl-1">autoBind</span><span class="hl-2">((</span><span class="hl-7">bind</span><span class="hl-2">, </span><span class="hl-7">unbind</span><span class="hl-2">, </span><span class="hl-7">isBound</span><span class="hl-2">, </span><span class="hl-7">rebind</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">bind</span><span class="hl-2">(</span><span class="hl-7">HelloWorld</span><span class="hl-2">).</span><span class="hl-1">toSelf</span><span class="hl-2">().</span><span class="hl-1">inSingletonScope</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">bind</span><span class="hl-2">(</span><span class="hl-7">SampleService</span><span class="hl-2">).</span><span class="hl-1">toSelf</span><span class="hl-2">().</span><span class="hl-1">inSingletonScope</span><span class="hl-2">();</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<p>Cell 核心组件还提供了 <code>ContainerFactory</code>，用于创建 IoC 容器实例。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ContainerFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleModule</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-module&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">container</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-7">ContainerFactory</span><span class="hl-2">.</span><span class="hl-1">create</span><span class="hl-2">(</span><span class="hl-7">SampleModule</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">sampleService</span><span class="hl-2"> = </span><span class="hl-7">container</span><span class="hl-2">.</span><span class="hl-1">get</span><span class="hl-2">(</span><span class="hl-7">SampleService</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">sampleService</span><span class="hl-2">.</span><span class="hl-1">run</span><span class="hl-2">();</span><br/><span class="hl-2">})();</span>
</code><button type="button">Copy</button></pre>

<p>除了使用 <code>@Autowired</code> 装饰器来注入依赖对象，还可以使用 <code>ContainerUtil</code> 工具类来手动获取容器中的对象。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ContainerUtil</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">helloWorld</span><span class="hl-2"> = </span><span class="hl-7">ContainerUtil</span><span class="hl-2">.</span><span class="hl-1">get</span><span class="hl-2">(</span><span class="hl-7">HelloWorld</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>注意：<code>ContainerUtil</code> 工具类只能容器加载完后才能使用，否则会报错。</p>
<a id="md:配置属性" class="tsd-anchor"></a><h2 class="tsd-anchor-link">配置属性<a href="#md:配置属性" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了配置属性功能，支持将配置属性注入到类对象中。通过 <code>@Value</code> 注解可以将配置属性注入到类对象中，支持 EL 表达式。</p>
<p>配置属性是在应用启动时通过 <code>ApplicationFactory</code> 的 <code>create</code> 方法传入的 <code>appProps</code> 对象中定义的。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">appProps</span><span class="hl-2"> = {</span><br/><span class="hl-2">        </span><span class="hl-7">app:</span><span class="hl-2"> { </span><span class="hl-7">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;MyApp&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">    };</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">app</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-7">ApplicationFactory</span><span class="hl-2">.</span><span class="hl-1">create</span><span class="hl-2">(</span><span class="hl-7">appProps</span><span class="hl-2">, </span><span class="hl-7">SampleModule</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">app</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">})();</span>
</code><button type="button">Copy</button></pre>

<p>除此之外，还提供了一个 <code>ConfigProvider</code> 接口，用于加载配置文件。Cell 核心组件提供了一个默认实现，开发者也可以自定义实现替换掉默认实现。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ConfigProvider</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">ConfigProvider</span><span class="hl-2">, </span><span class="hl-7">rebind:</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">MyConfigProvider</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">ConfigProvider</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">get</span><span class="hl-2">&lt;</span><span class="hl-6">T</span><span class="hl-2">&gt;(</span><span class="hl-7">key</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">, </span><span class="hl-7">defaultValue</span><span class="hl-2">?: </span><span class="hl-6">T</span><span class="hl-2">): </span><span class="hl-6">T</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-7">process</span><span class="hl-2">.</span><span class="hl-7">env</span><span class="hl-2">[</span><span class="hl-7">key</span><span class="hl-2">] || </span><span class="hl-7">defaultValue</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>除了前面介绍的使用 <code>@Value</code> 注解来注入配置属性，还可以使用 <code>ConfigUtil</code> 工具类来手动获取配置属性。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ConfigUtil</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">appName</span><span class="hl-2"> = </span><span class="hl-7">ConfigUtil</span><span class="hl-2">.</span><span class="hl-1">get</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`App Name: </span><span class="hl-4">${</span><span class="hl-7">appName</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">装饰器<a href="#md:装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了一套类似 Spring 的装饰器，用于注册类对象到 IoC 容器中。以下是一些常用的装饰器：</p>
<ul>
<li><code>@Component</code>：注册类对象到 IoC 容器中。</li>
<li><code>@Autowired</code>：注入依赖对象。</li>
<li><code>@Value</code>：注入配置属性。</li>
<li><code>@PostConstruct</code>：在类对象初始化后执行。</li>
<li><code>@PreDestroy</code>：在类对象销毁前执行。</li>
<li><code>@Service</code>：注册服务对象到 IoC 容器中。是 <code>@Component</code> 的别名。</li>
<li><code>@Inject</code>：注入依赖对象。是 <code>InversifyJS</code> 的 <code>inject</code> 的别名。</li>
<li><code>@Injectable</code>：标识类对象是可注入的。是 <code>InversifyJS</code> 的 <code>injectable</code> 的别名。</li>
<li><code>@Named</code>：指定注入对象的名称。是 <code>InversifyJS</code> 的 <code>named</code> 的别名。</li>
<li><code>@Optional</code>：标识注入对象是可选的。是 <code>InversifyJS</code> 的 <code>optional</code> 的别名。</li>
<li><code>@Tagged</code>：标识注入对象是标记的。是 <code>InversifyJS</code> 的 <code>tagged</code> 的别名。</li>
<li><code>@TargetName</code>：指定注入对象的名称。是 <code>InversifyJS</code> 的 <code>targetName</code> 的别名。</li>
<li><code>@Unmanaged</code>：标识类对象是不受管理的。是 <code>InversifyJS</code> 的 <code>unmanaged</code> 的别名。</li>
<li><code>@Aspect</code>：定义切面对象。提供 AOP 编程的能力。</li>
<li><code>@AutowiredProvider</code>：注入依赖提供者，通过依赖提供者对象，获取一类对象列表，支持排序能力。</li>
<li><code>@Constant</code>：注册常量对象到 IoC 容器中。</li>
<li><code>@Decorate</code>：装饰类对象。是 <code>InversifyJS</code> 的 <code>decorate</code> 的别名。</li>
</ul>
<p>除此之外，还提供了一些装饰器，用于在非托管类对象中使用（当然，也可以直接使用 <code>ContainerUtil</code> 工具类来手动获取容器中的对象），例如在前端的 React 类组件中使用。以下是一些常用的非托管类对象的装饰器：</p>
<ul>
<li><code>@Autowired</code>：注入依赖对象。</li>
<li><code>@Value</code>：注入配置属性。</li>
<li><code>@AutowiredProvider</code>：注入依赖提供者，通过依赖提供者对象，获取一类对象列表，支持排序能力。</li>
</ul>
<p>例如：</p>
<pre><code class="tsx"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">Value</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core/lib/common/annotation/detached&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleComponent</span><span class="hl-2"> </span><span class="hl-4">extends</span><span class="hl-2"> </span><span class="hl-6">React</span><span class="hl-2">.</span><span class="hl-6">Component</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">sampleService</span><span class="hl-2">: </span><span class="hl-6">SampleService</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">appName</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">render</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-12">&lt;</span><span class="hl-13">div</span><span class="hl-12">&gt;</span><span class="hl-4">{this</span><span class="hl-11">.</span><span class="hl-7">appName</span><span class="hl-4">}</span><span class="hl-12">&lt;/</span><span class="hl-13">div</span><span class="hl-12">&gt;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:component-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Component 装饰器<a href="#md:component-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Component</code> 装饰器用于注册类对象到 IoC 容器中。该装饰器有以下属性：</p>
<ul>
<li><code>id</code>：类对象的标识符，可以是一个或多个。</li>
<li><code>scope</code>：类对象的作用域，默认是 <code>Scope.Singleton</code>。</li>
<li><code>name</code>：类对象的名称。</li>
<li><code>tag</code>：类对象的标签。</li>
<li><code>default</code>：是否是默认的类对象。当给定的服务标识符有多个绑定可用时，可以通过设置 <code>default</code> 属性来指定默认的类对象。当通过服务标识符获取单个对象时，则返回默认对象。</li>
<li><code>when</code>：一个函数，用于判断是否应该创建该类对象。如果返回 <code>true</code>，则创建该类对象；否则不创建。</li>
<li><code>rebind</code>：是否重新绑定类对象。默认是 <code>false</code>。</li>
<li><code>proxy</code>：是否使用代理类对象。默认是 <code>false</code>。当为 <code>true</code> 时，可以被 AOP 切面拦截。</li>
<li><code>sysTags</code>：系统标签，用于标识类对象。在 AOP 切面中，可以通过系统标签来拦截类对象。</li>
<li><code>onActivation</code>：在类对象激活时执行的回调函数。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">Scope</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-3">&#39;HelloWorld&#39;</span><span class="hl-2">, </span><span class="hl-7">scope:</span><span class="hl-2"> </span><span class="hl-7">Scope</span><span class="hl-2">.</span><span class="hl-7">Singleton</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>当 <code>id</code> 属性是一个数组时，表示一个类对象有多个标识符。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> [</span><span class="hl-3">&#39;HelloWorld&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;Hello&#39;</span><span class="hl-2">] })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>当不设置 <code>id</code> 属性时，则默认使用类作为标识符。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>无论有没有设置 <code>id</code> 属性，装饰器所在的类永远都是一个标识符，都可以通过该类获取到类对象。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:autowired-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Autowired 装饰器<a href="#md:autowired-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Autowired</code> 装饰器用于注入依赖对象。该装饰器有以下属性：</p>
<ul>
<li><code>id</code>：类对象的标识符。</li>
<li><code>multi</code>：是否是多个依赖对象。默认是根据属性类型是否为数组，自动判断，在某些情况下，需要强制指定为 <code>true</code>。</li>
<li><code>detached</code>：是否是非托管类对象。默认是 <code>false</code>。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">HelloWorld</span><span class="hl-2"> })</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>当不设置 <code>id</code> 属性时，则默认使用属性类型作为标识符。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>当一个标识在容器中存在多个对象时，可以把属性类型定义为数组，表示是多个依赖对象。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorlds</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">[];</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorlds</span><span class="hl-2">.</span><span class="hl-1">map</span><span class="hl-2">(</span><span class="hl-7">helloWorld</span><span class="hl-2"> </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">()));</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>当一个标识在容器中存在多个对象时，也可以通过 <code>@AutowiredProvider</code> 装饰器来注入依赖提供者对象，通过依赖提供者对象，获取一类对象列表，支持排序能力。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">AutowiredProvider</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">AutowiredProvider</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">HelloWorld</span><span class="hl-2"> })</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorldProvider</span><span class="hl-2">: </span><span class="hl-6">Provider</span><span class="hl-2">&lt;</span><span class="hl-6">HelloWorld</span><span class="hl-2">&gt;;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">helloWorlds</span><span class="hl-2"> = </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorldProvider</span><span class="hl-2">.</span><span class="hl-1">sortSync</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-7">helloWorlds</span><span class="hl-2">.</span><span class="hl-1">map</span><span class="hl-2">(</span><span class="hl-7">helloWorld</span><span class="hl-2"> </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">()));</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>在使用 esbuild 编译的项目中，由于编译后的代码中没有类型信息，所以无法自动判断是否是多个依赖对象，需要强制指定为 <code>true</code>， 或者使用 <code>@AutowiredProvider</code> 装饰器。</p>
<a id="md:value-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Value 装饰器<a href="#md:value-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Value</code> 装饰器用于注入配置属性。该装饰器有以下属性：</p>
<ul>
<li><code>el</code>：配置属性的 EL 表达式。</li>
<li><code>detached</code>：是否是非托管类对象。默认是 <code>false</code>。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Value</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">appName</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`App Name: </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-11">.</span><span class="hl-7">appName</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:constant-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Constant 装饰器<a href="#md:constant-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Constant</code> 装饰器用于注册常量对象到 IoC 容器中。该装饰器有以下属性：</p>
<ul>
<li><code>id</code>：常量对象的标识符。</li>
<li><code>constantValue</code>：常量对象的值。</li>
<li><code>rebind</code>：是否重新绑定常量对象。默认是 <code>false</code>。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Constant</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Constant</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;MyApp&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">@</span><span class="hl-1">Constant</span><span class="hl-2">(</span><span class="hl-3">&#39;app.version&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;1.0.0&#39;</span><span class="hl-2">)</span><br/><span class="hl-5">export</span><span class="hl-2">  </span><span class="hl-5">default</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> {</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-3">&#39;app.name&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">name</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-3">&#39;app.version&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">version</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">;</span>
</code><button type="button">Copy</button></pre>

<a id="md:postconstruct-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@PostConstruct 装饰器<a href="#md:postconstruct-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@PostConstruct</code> 装饰器用于在类对象初始化后执行。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">PostConstruct</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">PostConstruct</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-1">init</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;SampleService initialized.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:predestroy-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@PreDestroy 装饰器<a href="#md:predestroy-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@PreDestroy</code> 装饰器用于在类对象销毁前执行。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2">, </span><span class="hl-7">PreDestroy</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">PreDestroy</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-1">destroy</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;SampleService destroyed.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:named-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Named 装饰器<a href="#md:named-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Named</code> 装饰器用于指定注入对象的名称。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">Named</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">component</span><span class="hl-2">({ </span><span class="hl-7">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;HelloWorld&#39;</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    @</span><span class="hl-1">Named</span><span class="hl-2">(</span><span class="hl-3">&#39;HelloWorld&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:tagged-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Tagged 装饰器<a href="#md:tagged-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Tagged</code> 装饰器用于标识注入对象是标记的。例如：</p>
<pre><code>tag?: { tag: string | number | symbol, value: any };
</code></pre>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">Tagged</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">tag:</span><span class="hl-2"> { </span><span class="hl-7">tag:</span><span class="hl-2"> </span><span class="hl-3">&#39;tag1&#39;</span><span class="hl-2">, </span><span class="hl-7">value:</span><span class="hl-2"> </span><span class="hl-3">&#39;HelloWorld&#39;</span><span class="hl-2"> } })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">HelloWorld</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">greet</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-3">&#39;Hello, World!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    @</span><span class="hl-1">Tagged</span><span class="hl-2">(</span><span class="hl-3">&#39;tag1&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;HelloWorld&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:optional-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Optional 装饰器<a href="#md:optional-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Optional</code> 装饰器用于标识注入对象是可选的。当类属性添加了一个 <code>@Autowired</code> 注解时，如果没有找到对应的类对象，会抛出一个异常。如果添加了一个 <code>@Optional</code> 注解，当没有找到对应的类对象时，会设置属性值为 <code>undefined</code>。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">Optional</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">()</span><br/><span class="hl-2">    @</span><span class="hl-1">Optional</span><span class="hl-2">()</span><br/><span class="hl-2">    </span><span class="hl-7">helloWorld</span><span class="hl-2">: </span><span class="hl-6">HelloWorld</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">helloWorld</span><span class="hl-2">?.</span><span class="hl-1">greet</span><span class="hl-2">());</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:aspect-装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">@Aspect 装饰器<a href="#md:aspect-装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>@Aspect</code> 装饰器用于定义切面对象。提供 AOP 编程的能力。继承了 <code>@Component</code> 装饰器的所有属性。再此之上，添加了 <code>pointcut</code> 属性，用于指定切点。该装饰器有以下属性：</p>
<ul>
<li><code>id</code>：类对象的标识符。相较于 <code>@Component</code> 装饰器，<code>id</code> 属性不是数组，只能是一个标识符。</li>
<li><code>pointcut</code>：切点。默认是 <code>COMPONENT_TAG</code>。表示拦截所以使用 <code>@Component</code> 装饰器注册的类对象。也可以自定义切点，例如 <code>AOP_TAG</code>。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">MethodBeforeAdvice</span><span class="hl-2">, </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">Aspect</span><span class="hl-2">, </span><span class="hl-7">AfterReturningAdvice</span><span class="hl-2">, </span><span class="hl-7">Value</span><span class="hl-2">, </span><span class="hl-7">ConfigUtil</span><span class="hl-2">, </span><span class="hl-7">Injectable</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">AccessDecisionManager</span><span class="hl-2">, </span><span class="hl-7">MethodSecurityMetadataContext</span><span class="hl-2">, </span><span class="hl-7">ResourceNameResolver</span><span class="hl-2">, </span><span class="hl-7">SecurityMetadataSource</span><span class="hl-2">, </span><span class="hl-7">SECURITY_EXPRESSION_CONTEXT_KEY</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./access-protocol&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">AOP_POINTCUT</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/web&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SecurityContext</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;../context&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">AuthorizeType</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;../../common&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Context</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/web/lib/node&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">pointcut</span><span class="hl-2"> = </span><span class="hl-7">ConfigUtil</span><span class="hl-2">.</span><span class="hl-1">getRaw</span><span class="hl-2">().</span><span class="hl-7">cell</span><span class="hl-2">.</span><span class="hl-7">security</span><span class="hl-2">.</span><span class="hl-7">aop</span><span class="hl-2">?.</span><span class="hl-7">pointcut</span><span class="hl-2"> || </span><span class="hl-8">AOP_POINTCUT</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Injectable</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">abstract</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">AbstractSecurityMethodAdivice</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">AccessDecisionManager</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-4">protected</span><span class="hl-2"> </span><span class="hl-4">readonly</span><span class="hl-2"> </span><span class="hl-7">accessDecisionManager</span><span class="hl-2">: </span><span class="hl-6">AccessDecisionManager</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">SecurityMetadataSource</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-4">protected</span><span class="hl-2"> </span><span class="hl-4">readonly</span><span class="hl-2"> </span><span class="hl-7">securityMetadataSource</span><span class="hl-2">: </span><span class="hl-6">SecurityMetadataSource</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">ResourceNameResolver</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-4">protected</span><span class="hl-2"> </span><span class="hl-4">readonly</span><span class="hl-2"> </span><span class="hl-7">resourceNameResolver</span><span class="hl-2">: </span><span class="hl-6">ResourceNameResolver</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Value</span><span class="hl-2">(</span><span class="hl-3">&#39;cell.security.enabled&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-4">protected</span><span class="hl-2"> </span><span class="hl-4">readonly</span><span class="hl-2"> </span><span class="hl-7">enabled</span><span class="hl-2">: </span><span class="hl-6">boolean</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-4">protected</span><span class="hl-2"> </span><span class="hl-1">needAccessDecision</span><span class="hl-2">(</span><span class="hl-7">method</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">number</span><span class="hl-2"> | </span><span class="hl-6">symbol</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">enabled</span><span class="hl-2"> &amp;&amp; </span><span class="hl-4">typeof</span><span class="hl-2"> </span><span class="hl-7">method</span><span class="hl-2"> === </span><span class="hl-3">&#39;string&#39;</span><span class="hl-2"> &amp;&amp; </span><span class="hl-7">SecurityContext</span><span class="hl-2">.</span><span class="hl-1">getCurrent</span><span class="hl-2">();</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Aspect</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">MethodBeforeAdvice</span><span class="hl-2">, </span><span class="hl-7">pointcut</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SecurityMethodBeforeAdivice</span><span class="hl-2"> </span><span class="hl-4">extends</span><span class="hl-2"> </span><span class="hl-6">AbstractSecurityMethodAdivice</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">MethodBeforeAdvice</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-1">before</span><span class="hl-2">(</span><span class="hl-7">method</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">number</span><span class="hl-2"> | </span><span class="hl-6">symbol</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">[], </span><span class="hl-7">target</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">): </span><span class="hl-6">Promise</span><span class="hl-2">&lt;</span><span class="hl-6">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-1">needAccessDecision</span><span class="hl-2">(</span><span class="hl-7">method</span><span class="hl-2">)) {</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">ctx</span><span class="hl-2">: </span><span class="hl-6">MethodSecurityMetadataContext</span><span class="hl-2"> = { </span><span class="hl-7">method:</span><span class="hl-2"> </span><span class="hl-7">method</span><span class="hl-2"> </span><span class="hl-5">as</span><span class="hl-2"> </span><span class="hl-6">string</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">, </span><span class="hl-7">target</span><span class="hl-2">, </span><span class="hl-7">authorizeType:</span><span class="hl-2"> </span><span class="hl-7">AuthorizeType</span><span class="hl-2">.</span><span class="hl-7">Pre</span><span class="hl-2">, </span><span class="hl-7">grant:</span><span class="hl-2"> </span><span class="hl-14">0</span><span class="hl-2"> };</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">securityMetadata</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">securityMetadataSource</span><span class="hl-2">.</span><span class="hl-1">load</span><span class="hl-2">(</span><span class="hl-7">ctx</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">resouces</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">resourceNameResolver</span><span class="hl-2">.</span><span class="hl-1">resolve</span><span class="hl-2">(</span><span class="hl-7">ctx</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">for</span><span class="hl-2"> (</span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">resource</span><span class="hl-2"> </span><span class="hl-4">of</span><span class="hl-2"> </span><span class="hl-7">resouces</span><span class="hl-2">) {</span><br/><span class="hl-2">                </span><span class="hl-7">securityMetadata</span><span class="hl-2">.</span><span class="hl-7">resource</span><span class="hl-2"> = </span><span class="hl-7">resource</span><span class="hl-2">;</span><br/><span class="hl-2">                </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">accessDecisionManager</span><span class="hl-2">.</span><span class="hl-1">decide</span><span class="hl-2">(</span><span class="hl-7">securityMetadata</span><span class="hl-2">);</span><br/><span class="hl-2">            }</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Aspect</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">AfterReturningAdvice</span><span class="hl-2">, </span><span class="hl-7">pointcut</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SecurityAfterReturningAdvice</span><span class="hl-2"> </span><span class="hl-4">extends</span><span class="hl-2"> </span><span class="hl-6">AbstractSecurityMethodAdivice</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">AfterReturningAdvice</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-1">afterReturning</span><span class="hl-2">(</span><span class="hl-7">returnValue</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">, </span><span class="hl-7">method</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">number</span><span class="hl-2"> | </span><span class="hl-6">symbol</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">[], </span><span class="hl-7">target</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">): </span><span class="hl-6">Promise</span><span class="hl-2">&lt;</span><span class="hl-6">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-1">needAccessDecision</span><span class="hl-2">(</span><span class="hl-7">method</span><span class="hl-2">)) {</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">oldCtx</span><span class="hl-2"> = </span><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">getAttr</span><span class="hl-2">&lt;</span><span class="hl-6">MethodSecurityMetadataContext</span><span class="hl-2">&gt;(</span><span class="hl-8">SECURITY_EXPRESSION_CONTEXT_KEY</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">newCtx</span><span class="hl-2"> = { </span><span class="hl-7">method:</span><span class="hl-2"> </span><span class="hl-7">method</span><span class="hl-2"> </span><span class="hl-5">as</span><span class="hl-2"> </span><span class="hl-6">string</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">, </span><span class="hl-7">target</span><span class="hl-2">, </span><span class="hl-7">returnValue</span><span class="hl-2">, </span><span class="hl-7">authorizeType:</span><span class="hl-2"> </span><span class="hl-7">AuthorizeType</span><span class="hl-2">.</span><span class="hl-7">Post</span><span class="hl-2">, </span><span class="hl-7">grant:</span><span class="hl-2"> </span><span class="hl-7">oldCtx</span><span class="hl-2">.</span><span class="hl-7">grant</span><span class="hl-2"> };</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">securityMetadata</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">securityMetadataSource</span><span class="hl-2">.</span><span class="hl-1">load</span><span class="hl-2">(</span><span class="hl-7">newCtx</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">resouces</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">resourceNameResolver</span><span class="hl-2">.</span><span class="hl-1">resolve</span><span class="hl-2">(</span><span class="hl-7">newCtx</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">for</span><span class="hl-2"> (</span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">resource</span><span class="hl-2"> </span><span class="hl-4">of</span><span class="hl-2"> </span><span class="hl-7">resouces</span><span class="hl-2">) {</span><br/><span class="hl-2">                </span><span class="hl-7">securityMetadata</span><span class="hl-2">.</span><span class="hl-7">resource</span><span class="hl-2"> = </span><span class="hl-7">resource</span><span class="hl-2">;</span><br/><span class="hl-2">                </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">accessDecisionManager</span><span class="hl-2">.</span><span class="hl-1">decide</span><span class="hl-2">(</span><span class="hl-7">securityMetadata</span><span class="hl-2">);</span><br/><span class="hl-2">            }</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:其他装饰器" class="tsd-anchor"></a><h2 class="tsd-anchor-link">其他装饰器<a href="#md:其他装饰器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>其他非常用的装饰器，可以参考 <a href="https://github.com/inversify/InversifyJS" target="_blank" class="external">InversifyJS</a>。</p>
<a id="md:aop-面向切面编程" class="tsd-anchor"></a><h2 class="tsd-anchor-link">AOP 面向切面编程<a href="#md:aop-面向切面编程" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了 AOP 面向切面编程的能力，支持在类对象的方法执行前、执行后、执行异常时执行一些操作。通过 <code>@Aspect</code> 装饰器可以定义切面对象，通过 <code>MethodBeforeAdvice</code>、<code>AfterReturningAdvice</code>、<code>AfterThrowsAdvice</code> 接口可以定义通知对象。</p>
<p>AOP 能力涉及一下接口：</p>
<ul>
<li><code>MethodBeforeAdvice</code>：在方法执行前执行。</li>
<li><code>AfterReturningAdvice</code>：在方法执行后执行。</li>
<li><code>AfterThrowsAdvice</code>：在方法执行异常时执行。</li>
</ul>
<p>可以使用 <code>@Aspect</code> 装饰器定义切面对象，通过 <code>pointcut</code> 属性指定切点。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">MethodBeforeAdvice</span><span class="hl-2">, </span><span class="hl-7">Autowired</span><span class="hl-2">, </span><span class="hl-7">Aspect</span><span class="hl-2">, </span><span class="hl-7">AfterReturningAdvice</span><span class="hl-2">, </span><span class="hl-7">Value</span><span class="hl-2">, </span><span class="hl-7">ConfigUtil</span><span class="hl-2">, </span><span class="hl-7">Injectable</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">pointcut</span><span class="hl-2"> = </span><span class="hl-3">&#39;test&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">MethodBeforeAdvice</span><span class="hl-2">, </span><span class="hl-7">pointcut</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">TestMethodBeforeAdvice</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">MethodBeforeAdvice</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-1">before</span><span class="hl-2">(</span><span class="hl-7">method</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">number</span><span class="hl-2"> | </span><span class="hl-6">symbol</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">[], </span><span class="hl-7">target</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">): </span><span class="hl-6">Promise</span><span class="hl-2">&lt;</span><span class="hl-6">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;before&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">AfterReturningAdvice</span><span class="hl-2">, </span><span class="hl-7">pointcut</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">TestAfterReturningAdvice</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">AfterReturningAdvice</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-1">afterReturning</span><span class="hl-2">(</span><span class="hl-7">returnValue</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">, </span><span class="hl-7">method</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">number</span><span class="hl-2"> | </span><span class="hl-6">symbol</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">[], </span><span class="hl-7">target</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">): </span><span class="hl-6">Promise</span><span class="hl-2">&lt;</span><span class="hl-6">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;after&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">AfterThrowsAdvice</span><span class="hl-2">, </span><span class="hl-7">pointcut</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">TestAfterThrowsAdvice</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">AfterThrowsAdvice</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-1">afterThrows</span><span class="hl-2">(</span><span class="hl-7">error</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">, </span><span class="hl-7">method</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">number</span><span class="hl-2"> | </span><span class="hl-6">symbol</span><span class="hl-2">, </span><span class="hl-7">args</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">[], </span><span class="hl-7">target</span><span class="hl-2">: </span><span class="hl-6">any</span><span class="hl-2">): </span><span class="hl-6">Promise</span><span class="hl-2">&lt;</span><span class="hl-6">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;throws&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>上面的示例表示定义了一个切面对象，通过 <code>pointcut</code> 属性指定切点为 <code>test</code>。当一个类对象的方法执行前、执行后、执行异常时，会执行相应的操作。其中，切点为 <code>test</code>，表示拦截所有使用 <code>@Component</code> 装饰器注册的类对象，且 sysTag 为 <code>test</code>。</p>
<a id="md:搭建应用" class="tsd-anchor"></a><h2 class="tsd-anchor-link">搭建应用<a href="#md:搭建应用" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了一个轻量级的应用框架，用于搭建应用程序。通过 <code>Application</code> 接口可以定义应用程序，通过 <code>ApplicationLifecycle</code> 接口可以定义应用程序的生命周期。通过 <code>ApplicationLifecycle</code> 接口可以定义应用程序的生命周期。通过 <code>ApplicationStateService</code> 接口可以定义应用程序的状态管理。通过 <code>ApplicationFactory</code> 可以创建应用实例。</p>
<p>一般使用 ApplicationFactory 创建应用实例，加载 IoC 容器模块，组装成一个完整的 IoC 容器。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleService</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-service&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">SampleModule</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;./sample-module&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">appProps</span><span class="hl-2"> = {</span><br/><span class="hl-2">        </span><span class="hl-7">app:</span><span class="hl-2"> { </span><span class="hl-7">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;MyApp&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">    };</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">app</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-7">ApplicationFactory</span><span class="hl-2">.</span><span class="hl-1">create</span><span class="hl-2">(</span><span class="hl-7">appProps</span><span class="hl-2">, </span><span class="hl-7">SampleModule</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">app</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">})();</span>
</code><button type="button">Copy</button></pre>

<p>在应用程序中，可以通过 <code>ApplicationLifecycle</code> 接口定义应用程序的生命周期。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationLifecycle</span><span class="hl-2">, </span><span class="hl-7">Application</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleLifecycle</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">ApplicationLifecycle</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">onStart</span><span class="hl-2">(</span><span class="hl-7">app</span><span class="hl-2">: </span><span class="hl-6">Application</span><span class="hl-2">): </span><span class="hl-6">Promise</span><span class="hl-2">&lt;</span><span class="hl-6">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">Promise</span><span class="hl-2">.</span><span class="hl-1">resolve</span><span class="hl-2">();</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-1">onStop</span><span class="hl-2">(</span><span class="hl-7">app</span><span class="hl-2">: </span><span class="hl-6">Application</span><span class="hl-2">): </span><span class="hl-6">void</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Application stopped.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>另外，在 browser 和 node 目录下，提供了 <code>Application</code> 的实现，可以直接使用。</p>
<a id="md:目录结构说明" class="tsd-anchor"></a><h2 class="tsd-anchor-link">目录结构说明<a href="#md:目录结构说明" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="shell"><span class="hl-1">.</span><br/><span class="hl-1">├──</span><span class="hl-2"> </span><span class="hl-3">browser</span><span class="hl-2">                        </span><span class="hl-0"># 浏览器端应用</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">application</span><span class="hl-2">                </span><span class="hl-0"># 前端应用程序</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">browser.ts</span><span class="hl-2">                 </span><span class="hl-0"># 与浏览器相关的工具方法</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">index.ts</span><span class="hl-2">                   </span><span class="hl-0"># 导出模块</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">shell</span><span class="hl-2">                      </span><span class="hl-0"># 前端应用程序启动入口</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">└──</span><span class="hl-2"> </span><span class="hl-3">static-module.ts</span><span class="hl-2">           </span><span class="hl-0"># 静态加载类型的 IoC 容器模块</span><br/><span class="hl-1">├──</span><span class="hl-2"> </span><span class="hl-3">common</span><span class="hl-2">                         </span><span class="hl-0"># 公共模块</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">annotation</span><span class="hl-2">                 </span><span class="hl-0"># 装饰器定义目录</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">aop</span><span class="hl-2">                        </span><span class="hl-0"># AOP 相关</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">application</span><span class="hl-2">                </span><span class="hl-0"># 后端应用程序</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">config</span><span class="hl-2">                     </span><span class="hl-0"># 配置属性</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">constants.ts</span><span class="hl-2">               </span><span class="hl-0"># 常量定义</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">container</span><span class="hl-2">                  </span><span class="hl-0"># IoC 容器</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">el</span><span class="hl-2">                         </span><span class="hl-0"># EL 表达式</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">error</span><span class="hl-2">                      </span><span class="hl-0"># 错误处理</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">index.ts</span><span class="hl-2">                   </span><span class="hl-0"># 导出模块</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">logger</span><span class="hl-2">                     </span><span class="hl-0"># 日志</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">provider</span><span class="hl-2">                   </span><span class="hl-0"># 依赖提供者</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">static-module.ts</span><span class="hl-2">           </span><span class="hl-0"># 静态加载类型的 IoC 容器模块</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">test</span><span class="hl-2">                       </span><span class="hl-0"># 测试</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">└──</span><span class="hl-2"> </span><span class="hl-3">utils</span><span class="hl-2">                      </span><span class="hl-0"># 工具方法</span><br/><span class="hl-1">├──</span><span class="hl-2"> </span><span class="hl-3">node</span><span class="hl-2">                           </span><span class="hl-0"># Node.js 端应用</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">application</span><span class="hl-2">                </span><span class="hl-0"># 后端应用程序</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">constants.ts</span><span class="hl-2">               </span><span class="hl-0"># 常量定义</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">context</span><span class="hl-2">                    </span><span class="hl-0"># 上下文</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">index.ts</span><span class="hl-2">                   </span><span class="hl-0"># 导出模块</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">├──</span><span class="hl-2"> </span><span class="hl-3">static-module.ts</span><span class="hl-2">           </span><span class="hl-0"># 静态加载类型的 IoC 容器模块</span><br/><span class="hl-1">│</span><span class="hl-2">   </span><span class="hl-3">└──</span><span class="hl-2"> </span><span class="hl-3">utils</span><span class="hl-2">                      </span><span class="hl-0"># 工具方法</span><br/><span class="hl-1">└──</span><span class="hl-2"> </span><span class="hl-3">package.spec.ts</span><span class="hl-2">                </span><span class="hl-0"># 单元测试</span>
</code><button type="button">Copy</button></pre>

<a id="md:错误类型" class="tsd-anchor"></a><h2 class="tsd-anchor-link">错误类型<a href="#md:错误类型" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了一些常用的错误类型，用于处理异常情况。</p>
<ul>
<li><code>CustomError</code>：自定义错误类型。</li>
<li><code>IllegalArgumentError</code>：非法参数错误。</li>
<li><code>IllegalStateError</code>：非法状态错误。</li>
<li><code>InvalidMimeTypeError</code>：无效的 MIME 类型错误。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">IllegalArgumentError</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-7">condition</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-5">throw</span><span class="hl-2"> </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">IllegalArgumentError</span><span class="hl-2">(</span><span class="hl-3">&#39;Invalid argument.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>由于 JS 的运行时提供的错误类型无法通过 <code>instanceof</code> 运算符来判断，所以 Cell 核心组件提供了 <code>CustomError</code> 基类，用于自定义错误类型。所以建议自定义错误类型都继承自 <code>CustomError</code> 基类。</p>
<a id="md:日志" class="tsd-anchor"></a><h2 class="tsd-anchor-link">日志<a href="#md:日志" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了日志功能，支持日志级别、日志格式、日志输出等功能。通过 <code>Logger</code> 接口可以定义日志对象，通过 <code>TraceIdProvider</code> 接口可以定义跟踪 ID 提供者。</p>
<p>日志级别有以下几种：</p>
<ul>
<li><code>verbose</code>：详细信息。</li>
<li><code>debug</code>：调试信息。</li>
<li><code>info</code>：信息。</li>
<li><code>warn</code>：警告。</li>
<li><code>error</code>：错误。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Logger</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">Logger</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">logger</span><span class="hl-2">: </span><span class="hl-6">Logger</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">logger</span><span class="hl-2">.</span><span class="hl-1">info</span><span class="hl-2">(</span><span class="hl-3">&#39;Info message.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">logger</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">&#39;Error message.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>其中，默认提供的日志输出为 <code>console</code>，为了支持不同类对象，注入的日志对象都是互相独立的，可以通过 <code>setContext</code> 方法设置上下文信息。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Logger</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">Logger</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">logger</span><span class="hl-2">: </span><span class="hl-6">Logger</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">logger</span><span class="hl-2">.</span><span class="hl-1">setContext</span><span class="hl-2">(</span><span class="hl-3">&#39;SampleService&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">logger</span><span class="hl-2">.</span><span class="hl-1">info</span><span class="hl-2">(</span><span class="hl-3">&#39;Info message.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">logger</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">&#39;Error message.&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>开发者也可以根据自己的需求，自定义 <code>Logger</code> 接口的实现，替换掉默认的实现。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Component</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">({ </span><span class="hl-7">id:</span><span class="hl-2"> </span><span class="hl-7">Logger</span><span class="hl-2">， </span><span class="hl-7">rebind</span><span class="hl-2">: </span><span class="hl-4">true</span><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">MyLogger</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">Logger</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// TODO</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:上下文能力" class="tsd-anchor"></a><h2 class="tsd-anchor-link">上下文能力<a href="#md:上下文能力" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了上下文能力，支持应用程序上下文、请求上下文、会话上下文等。通过 <code>Context</code> 类可以设置和获取上下文信息。</p>
<p>上下文信息有以下几种：</p>
<ul>
<li><code>App</code>：应用程序上下文。</li>
<li><code>Request</code>：请求上下文。</li>
<li><code>Session</code>：会话上下文。</li>
</ul>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Context</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">setAttr</span><span class="hl-2">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;value&#39;</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2">.</span><span class="hl-7">Request</span><span class="hl-2">);</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">value</span><span class="hl-2"> = </span><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">getAttr</span><span class="hl-2">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2">.</span><span class="hl-7">Request</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p>上下文运行可以保证上下文信息在函数执行期间有效。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Context</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">run</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">setAttr</span><span class="hl-2">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;value1&#39;</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2">.</span><span class="hl-7">Request</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">value</span><span class="hl-2"> = </span><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">getAttr</span><span class="hl-2">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2">.</span><span class="hl-7">Request</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-7">value</span><span class="hl-2">); </span><span class="hl-0">// value1</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">run</span><span class="hl-2">(() </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">setAttr</span><span class="hl-2">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;value2&#39;</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2">.</span><span class="hl-7">Request</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">value</span><span class="hl-2"> = </span><span class="hl-7">Context</span><span class="hl-2">.</span><span class="hl-1">getAttr</span><span class="hl-2">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-2">, </span><span class="hl-7">AttributeScope</span><span class="hl-2">.</span><span class="hl-7">Request</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-7">value</span><span class="hl-2">); </span><span class="hl-0">// value2</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:常用工具类和方法" class="tsd-anchor"></a><h2 class="tsd-anchor-link">常用工具类和方法<a href="#md:常用工具类和方法" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件提供了一些常用的工具类和方法，用于处理一些常见的问题。</p>
<ul>
<li><code>AnnotationUtil</code>：注解工具类。</li>
<li><code>Assert</code>：断言工具类。</li>
<li><code>Async</code>：异步工具类。</li>
<li><code>Cancellation</code>：取消工具类。</li>
<li><code>ClassUtil</code>：类工具类。</li>
<li><code>Disposable</code>：可释放工具类。</li>
<li><code>Emitter</code>：事件工具类。</li>
<li><code>Event</code>：事件工具类。</li>
<li><code>GlobalUtil</code>：全局工具类。</li>
<li><code>MetadataUtil</code>：元数据工具类。</li>
<li><code>Prioritizeable</code>：优先级工具类。</li>
<li><code>PromiseUtil</code>：Promise 工具类。</li>
<li><code>ProxyUtil</code>：代理工具类。</li>
<li><code>Types</code>：类型工具类。</li>
<li><code>UrlUtil</code>：URL 工具类。</li>
<li><code>generateUUUID</code>：生成 UUID。</li>
<li><code>OS</code>：操作系统工具类。</li>
<li><code>MimeTypeUtil</code>：MIME 类型工具类。</li>
<li><code>MimeType</code>：MIME 类型。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">Assert</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-7">Assert</span><span class="hl-2">.</span><span class="hl-1">isTrue</span><span class="hl-2">(</span><span class="hl-7">condition</span><span class="hl-2">, </span><span class="hl-3">&#39;Invalid argument.&#39;</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:el-表达式" class="tsd-anchor"></a><h2 class="tsd-anchor-link">EL 表达式<a href="#md:el-表达式" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cell 核心组件支持 EL 表达式，EL 表达式是一种简单、易读的模板语言，可以用于在模板中动态生成内容。通过 <code>ExpressionCompiler</code> 接口可以编译 EL 表达式，通过 <code>ExpressionHandler</code> 接口可以处理 EL 表达式。</p>
<p>有以下核心接口：</p>
<ul>
<li><code>ExpressionCompiler</code>：编译 EL 表达式。</li>
<li><code>ExpressionHandler</code>：处理 EL 表达式。</li>
<li><code>ExpressionContext</code>：EL 表达式上下文。</li>
<li><code>ContextInitializer</code>：上下文初始化器。</li>
<li><code>ExpressionContextProvider</code>：EL 表达式上下文提供者。</li>
<li><code>JexlEngineProvider</code>：Jexl 引擎提供者。</li>
</ul>
<p>例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ExpressionHandler</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">()</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">SampleService</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">ExpressionHandler</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-7">expressionHandler</span><span class="hl-2">: </span><span class="hl-6">ExpressionHandler</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">result</span><span class="hl-2"> = </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">expressionHandler</span><span class="hl-2">.</span><span class="hl-1">handle</span><span class="hl-2">(</span><span class="hl-3">&#39;Hello, ${name}!&#39;</span><span class="hl-2">, { </span><span class="hl-7">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;World&#39;</span><span class="hl-2"> });</span><br/><span class="hl-2">        </span><span class="hl-7">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-7">result</span><span class="hl-2">); </span><span class="hl-0">// Hello, World!</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>可以为 EL 表达式添加新的上下文变量、函数、变换器等。例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ContextInitializer</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-1">Component</span><span class="hl-2">(</span><span class="hl-7">ContextInitializer</span><span class="hl-2">)</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-6">CoreContextInitializer</span><span class="hl-2"> </span><span class="hl-4">implements</span><span class="hl-2"> </span><span class="hl-6">ContextInitializer</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    @</span><span class="hl-1">Autowired</span><span class="hl-2">(</span><span class="hl-7">JexlEngineProvider</span><span class="hl-2">)</span><br/><span class="hl-2">    </span><span class="hl-4">protected</span><span class="hl-2"> </span><span class="hl-4">readonly</span><span class="hl-2"> </span><span class="hl-7">jexlEngineProvider</span><span class="hl-2">: </span><span class="hl-6">JexlEngineProvider</span><span class="hl-2">&lt;</span><span class="hl-6">any</span><span class="hl-2">&gt;;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">initialize</span><span class="hl-2">(</span><span class="hl-7">ctx</span><span class="hl-2">: </span><span class="hl-6">ExpressionContext</span><span class="hl-2">): </span><span class="hl-6">void</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-4">typeof</span><span class="hl-2"> </span><span class="hl-7">process</span><span class="hl-2"> !== </span><span class="hl-3">&#39;undefined&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-7">ctx</span><span class="hl-2">.</span><span class="hl-7">env</span><span class="hl-2"> = { ...</span><span class="hl-7">process</span><span class="hl-2">.</span><span class="hl-7">env</span><span class="hl-2">, </span><span class="hl-7">_ignoreEl:</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2"> };</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">jexlEngine</span><span class="hl-2"> = </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-7">jexlEngineProvider</span><span class="hl-2">.</span><span class="hl-1">provide</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><span class="hl-7">jexlEngine</span><span class="hl-2">.</span><span class="hl-1">addTransform</span><span class="hl-2">(</span><span class="hl-3">&#39;replace&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">                (</span><span class="hl-7">val</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">, </span><span class="hl-7">searchValue</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2"> | </span><span class="hl-6">RegExp</span><span class="hl-2">, </span><span class="hl-7">replaceValue</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-7">val</span><span class="hl-2"> &amp;&amp; </span><span class="hl-7">val</span><span class="hl-2">.</span><span class="hl-1">replace</span><span class="hl-2">(</span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">RegExp</span><span class="hl-2">(</span><span class="hl-7">searchValue</span><span class="hl-2">, </span><span class="hl-3">&#39;g&#39;</span><span class="hl-2">), </span><span class="hl-7">replaceValue</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-7">jexlEngine</span><span class="hl-2">.</span><span class="hl-1">addTransform</span><span class="hl-2">(</span><span class="hl-3">&#39;regexp&#39;</span><span class="hl-2">,  (</span><span class="hl-7">pattern</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">, </span><span class="hl-7">flags</span><span class="hl-2">?: </span><span class="hl-6">string</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">RegExp</span><span class="hl-2">(</span><span class="hl-7">pattern</span><span class="hl-2">, </span><span class="hl-7">flags</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">expressionHandler</span><span class="hl-2"> = </span><span class="hl-7">ContainerUtil</span><span class="hl-2">.</span><span class="hl-1">get</span><span class="hl-2">&lt;</span><span class="hl-6">ExpressionHandler</span><span class="hl-2">&gt;(</span><span class="hl-7">ExpressionHandler</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-7">jexlEngine</span><span class="hl-2">.</span><span class="hl-1">addTransform</span><span class="hl-2">(</span><span class="hl-3">&#39;eval&#39;</span><span class="hl-2">,  (</span><span class="hl-7">text</span><span class="hl-2">: </span><span class="hl-6">string</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-7">expressionHandler</span><span class="hl-2">.</span><span class="hl-1">handle</span><span class="hl-2">(</span><span class="hl-7">text</span><span class="hl-2">));</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-7">priority</span><span class="hl-2"> = </span><span class="hl-14">500</span><span class="hl-2">;</span><br/><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>应用的属性配置默认支持 EL 表达式模版字符串，例如：</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-7">ApplicationFactory</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;@celljs/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">appProps</span><span class="hl-2"> = {</span><br/><span class="hl-2">        </span><span class="hl-7">app:</span><span class="hl-2"> { </span><span class="hl-7">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;MyApp&#39;</span><span class="hl-2"> },</span><br/><span class="hl-2">        </span><span class="hl-7">env:</span><span class="hl-2"> </span><span class="hl-3">&#39;${env}&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-7">version:</span><span class="hl-2"> </span><span class="hl-3">&#39;${version}&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-7">appVersion:</span><span class="hl-2"> </span><span class="hl-3">&#39;${app.name}-${version}&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-7">appVersion2:</span><span class="hl-2"> </span><span class="hl-3">&#39;${app.name}-${version}-${env}&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    };</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-8">app</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-7">ApplicationFactory</span><span class="hl-2">.</span><span class="hl-1">create</span><span class="hl-2">(</span><span class="hl-7">appProps</span><span class="hl-2">, </span><span class="hl-7">SampleModule</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">app</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">})();</span>
</code><button type="button">Copy</button></pre>

<a id="md:许可证" class="tsd-anchor"></a><h2 class="tsd-anchor-link">许可证<a href="#md:许可证" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>本项目采用 MIT 许可证。</p>
</section><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><h3 class="tsd-index-heading uppercase">Index</h3><section class="tsd-index-section"><h3 class="tsd-index-heading">Modules</h3><div class="tsd-index-list"><a href="_celljs_core.browser.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2"></use></svg><span>browser</span></a>
<a href="_celljs_core.common.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2"></use></svg><span>common</span></a>
<a href="_celljs_core.node.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2"></use></svg><span>node</span></a>
</div></section></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:cell---core-component"><span>Cell -<wbr/> <wbr/>Core <wbr/>Component</span></a><ul><li><a href="#md:概览"><span>概览</span></a></li><li><a href="#md:特性"><span>特性</span></a></li><li><a href="#md:安装"><span>安装</span></a></li><li><a href="#md:快速开始"><span>快速开始</span></a></li><li><a href="#md:依赖注入"><span>依赖注入</span></a></li><li><a href="#md:属性注入"><span>属性注入</span></a></li><li><a href="#md:ioc-容器"><span>Io<wbr/>C 容器</span></a></li><li><a href="#md:配置属性"><span>配置属性</span></a></li><li><a href="#md:装饰器"><span>装饰器</span></a></li><li><a href="#md:component-装饰器"><span>@<wbr/>Component 装饰器</span></a></li><li><a href="#md:autowired-装饰器"><span>@<wbr/>Autowired 装饰器</span></a></li><li><a href="#md:value-装饰器"><span>@<wbr/>Value 装饰器</span></a></li><li><a href="#md:constant-装饰器"><span>@<wbr/>Constant 装饰器</span></a></li><li><a href="#md:postconstruct-装饰器"><span>@<wbr/>Post<wbr/>Construct 装饰器</span></a></li><li><a href="#md:predestroy-装饰器"><span>@<wbr/>Pre<wbr/>Destroy 装饰器</span></a></li><li><a href="#md:named-装饰器"><span>@<wbr/>Named 装饰器</span></a></li><li><a href="#md:tagged-装饰器"><span>@<wbr/>Tagged 装饰器</span></a></li><li><a href="#md:optional-装饰器"><span>@<wbr/>Optional 装饰器</span></a></li><li><a href="#md:aspect-装饰器"><span>@<wbr/>Aspect 装饰器</span></a></li><li><a href="#md:其他装饰器"><span>其他装饰器</span></a></li><li><a href="#md:aop-面向切面编程"><span>AOP 面向切面编程</span></a></li><li><a href="#md:搭建应用"><span>搭建应用</span></a></li><li><a href="#md:目录结构说明"><span>目录结构说明</span></a></li><li><a href="#md:错误类型"><span>错误类型</span></a></li><li><a href="#md:日志"><span>日志</span></a></li><li><a href="#md:上下文能力"><span>上下文能力</span></a></li><li><a href="#md:常用工具类和方法"><span>常用工具类和方法</span></a></li><li><a href="#md:el-表达式"><span>EL 表达式</span></a></li><li><a href="#md:许可证"><span>许可证</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>CellJS TypeDoc</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
